## 認証局がルート、中間、下位の階層構造になっている理由

- セキュリティを強化できる
- 証明書失効の際の被害を少なくする

以上の2点を満たすために3層構造にしています。

証明書の発行手続きは基本オンラインで行われます。


脆弱性を突かれ、下位証明書の利用が適正に行われなかった場合

1. 証明書を発行した下位CAを無効化する
2. 無効化した下位CAの持っている証明書を無効化する

このように証明書を発行した上位のCAの証明書を無効化することになります。

認証局が2層構造だった場合、
ルート証明書を無効化するため被害が大きくなります。
そして、下位証明書を無効化するため、ルート認証局はオンラインでなければならないため、攻撃を受ける可能性があります。

![](https://github.com/human-osaka-game-2019/2020NWProgrammingLatterTermExam/blob/master/NW%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0/%E6%8E%88%E6%A5%AD%E6%AE%8B%E8%AA%B2%E9%A1%8C/%E9%9A%8E%E5%B1%A4%E6%A7%8B%E9%80%A02%E5%B1%A4.png "階層構造2層")

認証局が3層構造だった場合、
中間証明書を無効化するだけでルート証明書を無効化せずに済むため被害を抑えることができます。
そして、下位証明書を無効にするのは中間CAなので、ルートCAはオフラインにしておくことができ、安全になります。

![](https://github.com/human-osaka-game-2019/2020NWProgrammingLatterTermExam/blob/master/NW%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0/%E6%8E%88%E6%A5%AD%E6%AE%8B%E8%AA%B2%E9%A1%8C/%E9%9A%8E%E5%B1%A4%E6%A7%8B%E9%80%A03%E5%B1%A4.png "階層構造3層")



